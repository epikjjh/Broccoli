{"mappings":"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","sources":["<anon>","app.js"],"sourcesContent":["const $6b17f08f738443dc$var$NEWS_URL = 'https://api.hnpwa.com/v0/news/{page}.json';\nconst $6b17f08f738443dc$var$CONTENT_URL = 'https://api.hnpwa.com/v0/item/{id}.json';\nconst $6b17f08f738443dc$var$pageInfo = {\n    currentPage: 1,\n    minPage: 1,\n    maxPage: 10\n};\n// Only call loadNews if we're in a browser environment\nif (typeof window !== 'undefined') {\n    const rootElement = document.getElementById('root');\n    if (rootElement) {\n        window.addEventListener('hashchange', ()=>$6b17f08f738443dc$export$ed538151afd19dee(rootElement));\n        $6b17f08f738443dc$export$4bb3ff9d4e0b170e(rootElement);\n    }\n}\nfunction $6b17f08f738443dc$export$ed538151afd19dee(rootElementParam) {\n    // Use passed element or try to find it in DOM\n    const rootElement = rootElementParam || document.getElementById('root');\n    if (!rootElement) throw new Error('Root element not found');\n    if (location.hash === '' || location.hash === '#prevPage' || location.hash === '#nextPage') {\n        location.hash = '';\n        $6b17f08f738443dc$export$4bb3ff9d4e0b170e(rootElementParam);\n    } else if (location.hash.startsWith('#item')) $6b17f08f738443dc$export$ff48cb68e9510fa6(rootElementParam);\n    else {\n        rootElement.innerHTML = 'Error: Invalid route';\n        console.error('Invalid hash:', location.hash);\n    }\n}\nasync function $6b17f08f738443dc$export$4bb3ff9d4e0b170e(rootElementParam) {\n    // Use passed element or try to find it in DOM\n    const rootElement = rootElementParam || document.getElementById('root');\n    if (!rootElement) throw new Error('Root element not found');\n    const currentPage = $6b17f08f738443dc$var$pageInfo.currentPage;\n    const ul = document.createElement('ul');\n    try {\n        $6b17f08f738443dc$export$3ac708362c1f96eb(rootElement, true);\n        const response = await fetch($6b17f08f738443dc$var$NEWS_URL.replace('{page}', currentPage));\n        const newsFeed = await response.json();\n        newsFeed.forEach((item)=>{\n            const div = document.createElement('div');\n            div.innerHTML = `\n        <li>\n          <a href=\"#item=${item.id}\">\n            ${item.title} (${item.comments_count})\n          </a>\n        </li>\n      `;\n            ul.appendChild(div.firstElementChild);\n        });\n        // Clear loading state and show content\n        rootElement.innerHTML = '';\n        rootElement.appendChild(ul);\n    } catch (error) {\n        rootElement.innerHTML = 'Error loading news feed';\n        console.error('Error:', error);\n    } finally{\n        $6b17f08f738443dc$export$3ac708362c1f96eb(rootElement, false);\n    }\n    if (currentPage > $6b17f08f738443dc$var$pageInfo.minPage) {\n        const prevPageButton = document.createElement('button');\n        prevPageButton.innerHTML = 'Previous Page';\n        prevPageButton.addEventListener('click', ()=>{\n            $6b17f08f738443dc$var$pageInfo.currentPage = currentPage - 1;\n            location.hash = '#prevPage';\n        });\n        rootElement.appendChild(prevPageButton);\n    }\n    // Add current page indicator\n    const pageIndicator = document.createElement('span');\n    pageIndicator.innerHTML = ` Page ${currentPage} of ${$6b17f08f738443dc$var$pageInfo.maxPage} `;\n    rootElement.appendChild(pageIndicator);\n    if (currentPage < $6b17f08f738443dc$var$pageInfo.maxPage) {\n        const nextPageButton = document.createElement('button');\n        nextPageButton.innerHTML = 'Next Page';\n        nextPageButton.addEventListener('click', ()=>{\n            $6b17f08f738443dc$var$pageInfo.currentPage = currentPage + 1;\n            location.hash = '#nextPage';\n        });\n        rootElement.appendChild(nextPageButton);\n    }\n}\nasync function $6b17f08f738443dc$export$ff48cb68e9510fa6(rootElementParam) {\n    // Use passed element or try to find it in DOM\n    const rootElement = rootElementParam || document.getElementById('root');\n    if (!rootElement) throw new Error('Root element not found');\n    // Extract newsId from the hash\n    const newsId = location.hash.startsWith('#item=') ? location.hash.substring(6) : null;\n    if (!newsId) throw new Error('Invalid news ID format');\n    const div = document.createElement('div');\n    try {\n        $6b17f08f738443dc$export$3ac708362c1f96eb(rootElement, true);\n        // Fetch the item details\n        const response = await fetch($6b17f08f738443dc$var$CONTENT_URL.replace('{id}', newsId));\n        const content = await response.json();\n        // Create a back button\n        const backButton = document.createElement('button');\n        backButton.innerHTML = \"\\u2190 Back to News\";\n        backButton.addEventListener('click', ()=>{\n            location.hash = '';\n        });\n        div.innerHTML = `\n      <h1>${content.title}</h1>\n      ${content.url ? `<p><a href=\"${content.url}\" target=\"_blank\">Visit Story</a></p>` : ''}\n      <h2>Comments:</h2>\n      ${content.comments.length > 0 ? `<ul>${content.comments.map((c)=>`<li>${c.content}</li>`).join('')}</ul>` : '<p>No comments yet</p>'}\n    `;\n        rootElement.innerHTML = '';\n        rootElement.appendChild(backButton);\n        rootElement.appendChild(div);\n    } catch (error) {\n        console.error('Error:', error);\n        rootElement.innerHTML = `Error loading content: ${error.message || 'Unknown error'}`;\n    } finally{\n        $6b17f08f738443dc$export$3ac708362c1f96eb(rootElement, false);\n    }\n}\nfunction $6b17f08f738443dc$export$3ac708362c1f96eb(rootElement, isLoading) {\n    if (isLoading) rootElement.innerHTML = 'Loading...';\n}\n\n\n//# sourceMappingURL=index.f0f9dd60.js.map\n","const NEWS_URL = 'https://api.hnpwa.com/v0/news/{page}.json';\nconst CONTENT_URL = 'https://api.hnpwa.com/v0/item/{id}.json';\nconst pageInfo = {\n  currentPage: 1,\n  minPage: 1,\n  maxPage: 10,\n}\n\nexport { loadNewsFeed, loadNewsMaterial, routePage, setLoading };\n\n// Only call loadNews if we're in a browser environment\nif (typeof window !== 'undefined') {\n  const rootElement = document.getElementById('root');\n  if (rootElement) {\n    window.addEventListener('hashchange', () => routePage(rootElement));\n    loadNewsFeed(rootElement);\n  }\n}\n\nfunction routePage(rootElementParam) {\n  // Use passed element or try to find it in DOM\n  const rootElement = rootElementParam || document.getElementById('root');\n  if (!rootElement) {\n    throw new Error('Root element not found');\n  }\n\n  if (location.hash === '' || location.hash === '#prevPage' || location.hash === '#nextPage') {\n    location.hash = '';\n    loadNewsFeed(rootElementParam);\n  } else if (location.hash.startsWith('#item')) {\n    loadNewsMaterial(rootElementParam);\n  } else {\n    rootElement.innerHTML = 'Error: Invalid route';\n    console.error('Invalid hash:', location.hash);  \n  }\n}\n\nasync function loadNewsFeed(rootElementParam) {\n  // Use passed element or try to find it in DOM\n  const rootElement = rootElementParam || document.getElementById('root');\n  if (!rootElement) {\n    throw new Error('Root element not found');\n  }\n\n  const currentPage = pageInfo.currentPage;\n  const ul = document.createElement('ul');\n\n  try {\n    setLoading(rootElement, true);\n    \n    const response = await fetch(NEWS_URL.replace('{page}', currentPage));\n    const newsFeed = await response.json();\n    \n    newsFeed.forEach(item => {\n      const div = document.createElement('div');\n\n      div.innerHTML = `\n        <li>\n          <a href=\"#item=${item.id}\">\n            ${item.title} (${item.comments_count})\n          </a>\n        </li>\n      `;\n      ul.appendChild(div.firstElementChild);\n    });\n    \n    // Clear loading state and show content\n    rootElement.innerHTML = '';\n    rootElement.appendChild(ul);\n  } catch (error) {\n    rootElement.innerHTML = 'Error loading news feed';\n    console.error('Error:', error);\n  } finally {\n    setLoading(rootElement, false);\n  }\n\n  if (currentPage > pageInfo.minPage) {\n    const prevPageButton = document.createElement('button');\n    prevPageButton.innerHTML = 'Previous Page';\n    prevPageButton.addEventListener('click', () => {\n      pageInfo.currentPage = currentPage - 1;\n      location.hash = '#prevPage';\n    });\n    rootElement.appendChild(prevPageButton);\n  }\n\n  // Add current page indicator\n  const pageIndicator = document.createElement('span');\n  pageIndicator.innerHTML = ` Page ${currentPage} of ${pageInfo.maxPage} `;\n  rootElement.appendChild(pageIndicator);\n\n  if (currentPage < pageInfo.maxPage) {\n    const nextPageButton = document.createElement('button');\n    nextPageButton.innerHTML = 'Next Page';\n    nextPageButton.addEventListener('click', () => {\n      pageInfo.currentPage = currentPage + 1;\n      location.hash = '#nextPage';\n    });\n    rootElement.appendChild(nextPageButton);\n  }\n}\n\nasync function loadNewsMaterial(rootElementParam) {\n   // Use passed element or try to find it in DOM\n  const rootElement = rootElementParam || document.getElementById('root');\n  if (!rootElement) {\n    throw new Error('Root element not found');\n  }\n\n  // Extract newsId from the hash\n  const newsId = location.hash.startsWith('#item=') \n    ? location.hash.substring(6)\n    : null;\n\n  if (!newsId) {\n    throw new Error('Invalid news ID format');\n  }\n\n  const div = document.createElement('div');\n  \n  try {\n    setLoading(rootElement, true); \n    \n    // Fetch the item details\n    const response = await fetch(CONTENT_URL.replace('{id}', newsId));\n    const content = await response.json();\n    \n    // Create a back button\n    const backButton = document.createElement('button');\n    backButton.innerHTML = 'â† Back to News';\n    backButton.addEventListener('click', () => {\n      location.hash = '';\n    });\n    \n    div.innerHTML = `\n      <h1>${content.title}</h1>\n      ${content.url ? `<p><a href=\"${content.url}\" target=\"_blank\">Visit Story</a></p>` : ''}\n      <h2>Comments:</h2>\n      ${content.comments.length > 0 ? \n        `<ul>${content.comments.map(c => `<li>${c.content}</li>`).join('')}</ul>` \n        : '<p>No comments yet</p>'\n      }\n    `;\n    \n    rootElement.innerHTML = '';\n    rootElement.appendChild(backButton);\n    rootElement.appendChild(div);\n    \n  } catch (error) {\n    console.error('Error:', error);\n    rootElement.innerHTML = `Error loading content: ${error.message || 'Unknown error'}`;\n  } finally {\n    setLoading(rootElement, false);\n  }\n}\n\nfunction setLoading(rootElement, isLoading) {\n  if (isLoading) {\n    rootElement.innerHTML = 'Loading...';\n  }\n}\n"],"names":["$6b17f08f738443dc$var$pageInfo","currentPage","minPage","maxPage","window","rootElement","document","getElementById","addEventListener","$6b17f08f738443dc$export$ed538151afd19dee","rootElementParam","Error","location","hash","$6b17f08f738443dc$export$4bb3ff9d4e0b170e","startsWith","$6b17f08f738443dc$export$ff48cb68e9510fa6","innerHTML","console","error","ul","createElement","$6b17f08f738443dc$export$3ac708362c1f96eb","response","fetch","$6b17f08f738443dc$var$NEWS_URL","replace","newsFeed","json","forEach","item","div","id","title","comments_count","appendChild","firstElementChild","prevPageButton","pageIndicator","nextPageButton","newsId","substring","$6b17f08f738443dc$var$CONTENT_URL","content","backButton","url","comments","length","map","c","join","message","isLoading","NEWS_URL","CONTENT_URL","pageInfo","loadNewsFeed","loadNewsMaterial","routePage","setLoading"],"version":3,"file":"index.f0f9dd60.js.map"}