{"mappings":"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","sources":["<anon>","app.js"],"sourcesContent":["const $6b17f08f738443dc$var$NEWS_URL = 'https://api.hnpwa.com/v0/news/{page}.json';\nconst $6b17f08f738443dc$var$CONTENT_URL = 'https://hacker-news.firebaseio.com/v0/item/{id}.json';\nconst $6b17f08f738443dc$var$initialPage = 1;\nconst $6b17f08f738443dc$var$maxPage = 10;\n// Initialize the pipeline\nlet $6b17f08f738443dc$var$summarizer;\nasync function $6b17f08f738443dc$var$initializeSummarizer() {\n    try {\n        // Using a smaller model for better performance\n        $6b17f08f738443dc$var$summarizer = await pipeline('summarization', 'Xenova/distilbart-cnn-6-6');\n    } catch (error) {\n        console.error('Failed to initialize summarizer:', error);\n    }\n}\n// Initialize when the page loads\n$6b17f08f738443dc$var$initializeSummarizer();\nasync function $6b17f08f738443dc$export$6be879aaed7294f2(rootElementParam, currentPage) {\n    // Use passed element or try to find it in DOM\n    const rootElement = rootElementParam || document.getElementById('root');\n    if (!rootElement) throw new Error('Root element not found');\n    const ul = document.createElement('ul');\n    window.addEventListener('hashchange', async ()=>{\n        const id = location.hash.substring(1);\n        const summary = document.createElement('div');\n        try {\n            // Show loading state\n            rootElement.innerHTML = 'Loading...';\n            // Fetch the item details\n            const response = await fetch($6b17f08f738443dc$var$CONTENT_URL.replace('{id}', id));\n            const content = await response.json();\n            // Create a back button\n            const backButton = document.createElement('button');\n            backButton.innerHTML = \"\\u2190 Back to News\";\n            backButton.addEventListener('click', ()=>{\n                location.hash = '';\n                $6b17f08f738443dc$export$6be879aaed7294f2(rootElement, currentPage);\n            });\n            // Prepare content for summarization\n            const textToSummarize = `\n        Title: ${content.title}\n        URL Content: ${content.url ? content.url : 'No URL'}\n        Comments: ${content.comments ? content.comments.map((c)=>c.content).join('\\n') : 'No comments'}\n      `;\n            // Use transformers.js for summarization\n            const result = await $6b17f08f738443dc$var$summarizer(textToSummarize, {\n                max_length: 150,\n                min_length: 30\n            });\n            const summarizedContent = result[0].summary_text;\n            // Display the summary\n            summary.innerHTML = `\n        <h2>${content.title}</h2>\n        <p><strong>Summary:</strong></p>\n        <p>${summarizedContent}</p>\n        <p><strong>Original URL:</strong> <a href=\"${content.url}\" target=\"_blank\">${content.url}</a></p>\n        <p><strong>Comments:</strong> ${content.comments_count || 0}</p>\n      `;\n            rootElement.innerHTML = '';\n            rootElement.appendChild(backButton);\n            rootElement.appendChild(summary);\n        } catch (error) {\n            console.error('Error:', error);\n            rootElement.innerHTML = 'Error loading content';\n        }\n    });\n    try {\n        // Show loading state\n        rootElement.innerHTML = 'Loading...';\n        const response = await fetch($6b17f08f738443dc$var$NEWS_URL.replace('{page}', currentPage));\n        const newsFeed = await response.json();\n        newsFeed.forEach((item)=>{\n            const li = document.createElement('li');\n            const a = document.createElement('a');\n            a.href = `#${item.id}`;\n            a.innerHTML = `${item.title} (${item.comments_count})`;\n            li.appendChild(a);\n            ul.appendChild(li);\n        });\n        // Clear loading state and show content\n        rootElement.innerHTML = '';\n        rootElement.appendChild(ul);\n    } catch (error) {\n        rootElement.innerHTML = 'Error loading news feed';\n        console.error('Error:', error);\n    }\n    if (currentPage > $6b17f08f738443dc$var$initialPage) {\n        const prevPageButton = document.createElement('button');\n        prevPageButton.innerHTML = 'Previous Page';\n        prevPageButton.addEventListener('click', ()=>{\n            currentPage--;\n            $6b17f08f738443dc$export$6be879aaed7294f2(rootElement, currentPage);\n        });\n        rootElement.appendChild(prevPageButton);\n    }\n    if (currentPage < $6b17f08f738443dc$var$maxPage) {\n        const nextPageButton = document.createElement('button');\n        nextPageButton.innerHTML = 'Next Page';\n        nextPageButton.addEventListener('click', ()=>{\n            currentPage++;\n            $6b17f08f738443dc$export$6be879aaed7294f2(rootElement, currentPage);\n        });\n        rootElement.appendChild(nextPageButton);\n    }\n}\n// Only call loadNews if we're in a browser environment\nif (typeof window !== 'undefined') {\n    const rootElement = document.getElementById('root');\n    if (rootElement) $6b17f08f738443dc$export$6be879aaed7294f2(rootElement, 1);\n}\n\n\n//# sourceMappingURL=index.6e69d8fc.js.map\n","const NEWS_URL = 'https://api.hnpwa.com/v0/news/{page}.json';\nconst CONTENT_URL = 'https://hacker-news.firebaseio.com/v0/item/{id}.json';\nconst initialPage = 1;\nconst maxPage = 10;\n\n// Initialize the pipeline\nlet summarizer;\nasync function initializeSummarizer() {\n  try {\n    // Using a smaller model for better performance\n    summarizer = await pipeline('summarization', 'Xenova/distilbart-cnn-6-6');\n  } catch (error) {\n    console.error('Failed to initialize summarizer:', error);\n  }\n}\n\n// Initialize when the page loads\ninitializeSummarizer();\n\nexport async function loadNews(rootElementParam, currentPage) {\n  // Use passed element or try to find it in DOM\n  const rootElement = rootElementParam || document.getElementById('root');\n\n  if (!rootElement) {\n    throw new Error('Root element not found');\n  }\n\n  const ul = document.createElement('ul');\n\n  window.addEventListener('hashchange', async () => {\n    const id = location.hash.substring(1);\n    const summary = document.createElement('div');\n    \n    try {\n      // Show loading state\n      rootElement.innerHTML = 'Loading...';\n      \n      // Fetch the item details\n      const response = await fetch(CONTENT_URL.replace('{id}', id));\n      const content = await response.json();\n      \n      // Create a back button\n      const backButton = document.createElement('button');\n      backButton.innerHTML = 'â† Back to News';\n      backButton.addEventListener('click', () => {\n        location.hash = '';\n        loadNews(rootElement, currentPage);\n      });\n      \n      // Prepare content for summarization\n      const textToSummarize = `\n        Title: ${content.title}\n        URL Content: ${content.url ? content.url : 'No URL'}\n        Comments: ${content.comments ? content.comments.map(c => c.content).join('\\n') : 'No comments'}\n      `;\n      \n      // Use transformers.js for summarization\n      const result = await summarizer(textToSummarize, {\n        max_length: 150,\n        min_length: 30,\n      });\n      \n      const summarizedContent = result[0].summary_text;\n      \n      // Display the summary\n      summary.innerHTML = `\n        <h2>${content.title}</h2>\n        <p><strong>Summary:</strong></p>\n        <p>${summarizedContent}</p>\n        <p><strong>Original URL:</strong> <a href=\"${content.url}\" target=\"_blank\">${content.url}</a></p>\n        <p><strong>Comments:</strong> ${content.comments_count || 0}</p>\n      `;\n      \n      rootElement.innerHTML = '';\n      rootElement.appendChild(backButton);\n      rootElement.appendChild(summary);\n      \n    } catch (error) {\n      console.error('Error:', error);\n      rootElement.innerHTML = 'Error loading content';\n    }\n  });\n  \n  try {\n    // Show loading state\n    rootElement.innerHTML = 'Loading...';\n    \n    const response = await fetch(NEWS_URL.replace('{page}', currentPage));\n    const newsFeed = await response.json();\n    \n    newsFeed.forEach(item => {\n      const li = document.createElement('li');\n      const a = document.createElement('a');\n      a.href = `#${item.id}`;\n      a.innerHTML = `${item.title} (${item.comments_count})`;\n      li.appendChild(a);\n      ul.appendChild(li);\n    });\n    \n    // Clear loading state and show content\n    rootElement.innerHTML = '';\n    rootElement.appendChild(ul);\n    \n  } catch (error) {\n    rootElement.innerHTML = 'Error loading news feed';\n    console.error('Error:', error);\n  }\n\n  if (currentPage > initialPage) {\n    const prevPageButton = document.createElement('button');\n    prevPageButton.innerHTML = 'Previous Page';\n    prevPageButton.addEventListener('click', () => {\n      currentPage--;\n      loadNews(rootElement, currentPage);\n    });\n    rootElement.appendChild(prevPageButton);\n  }\n\n  if (currentPage < maxPage) {\n    const nextPageButton = document.createElement('button');\n    nextPageButton.innerHTML = 'Next Page';\n    nextPageButton.addEventListener('click', () => {\n      currentPage++;\n      loadNews(rootElement, currentPage);\n    });\n    rootElement.appendChild(nextPageButton);\n  }\n}\n\n// Only call loadNews if we're in a browser environment\nif (typeof window !== 'undefined') {\n  const rootElement = document.getElementById('root');\n  if (rootElement) {\n    loadNews(rootElement, 1);\n  }\n}"],"names":["$6b17f08f738443dc$var$summarizer","$6b17f08f738443dc$export$6be879aaed7294f2","rootElementParam","currentPage","rootElement","document","getElementById","Error","ul","createElement","window","addEventListener","id","location","hash","substring","summary","innerHTML","response","fetch","$6b17f08f738443dc$var$CONTENT_URL","replace","content","json","backButton","textToSummarize","title","url","comments","map","c","join","summarizedContent","result","max_length","min_length","summary_text","comments_count","appendChild","error","console","$6b17f08f738443dc$var$NEWS_URL","newsFeed","forEach","item","li","a","href","prevPageButton","nextPageButton","$6b17f08f738443dc$var$initializeSummarizer","pipeline","NEWS_URL","CONTENT_URL","initialPage","maxPage","summarizer","initializeSummarizer","loadNews"],"version":3,"file":"index.6e69d8fc.js.map"}